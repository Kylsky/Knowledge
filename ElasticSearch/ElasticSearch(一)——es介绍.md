# ElasticSearch(一)介绍

es是elk的核心分布式搜索及分析引擎。Logstash和Beats促进了收集、聚合并丰富数据并加强他们。

Kibana使用户能够交互式地探索、可视化和共享对数据的洞察，并管理和监视堆栈。

Elasticsearch为所有类型的数据提供**实时搜索和分析**。无论是拥有结构化或是非结构化文本、数字数据或地理空间数据，Elasticsearch都可以有效地存储和索引这些数据，并支持快速搜索。es不止可以实现简单的数据检索和聚合信息功能，来发现数据中的趋势和模式。随着数据和查询量的增长，Elasticsearch的分布式特性使您的部署可以无缝地随之增长。

Elasticsearch提供了速度和灵活性，可以在各种各样的用例中处理数据:

1. 在应用程序或网站上添加一个搜索框
2. 存储和分析日志、指标和安全事件数据
3. 使用机器学习来实时自动建模数据的行为
4. 使用Elasticsearch作为存储引擎来自动化业务工作流
5. 使用Elasticsearch作为地理信息系统(GIS)管理、集成和分析空间信息
6. 利用弹性搜索作为生物信息学研究工具对遗传数据进行存储和处理

## 一、数据输入:文档和索引

Elasticsearch是一个分布式文档存储。Elasticsearch不将信息存储为行数据，而是存储已序列化为JSON文档的复杂数据结构。当一个集群中有多个Elasticsearch节点时，存储的文档分布在整个集群中，可以从任何节点立即访问它们。

当一个文档被存储时，它会被索引，并且可以在1秒内被完全实时搜索到。Elasticsearch使用一种称为**反向索引**的数据结构，支持非常快速的全文搜索。**反向索引**列出任何文档中出现的每个唯一单词（之后称为字段），并标识每个单词所在的所有文档。

可以将**索引看作是文档的优化集合**，将**每个文档看作是字段的集合**，字段以键值对形式组成。使用每个字段的数据结构来组装和返回搜索结果的能力是Elasticsearch如此快速的原因。

```
简单来说，所有存储到es中的文档其实都会变成一个个字段，字段分为不同类型，如文本字段、数字字段、地理字段等，字段数据结构类似Map，以键值对形式存储数据。
```

Elasticsearch具有无模式的能力，这意味着es对文档进行索引时，无需显式地指定如何处理文档中可能出现的不同字段。启用动态映射后，Elasticsearch将自动检测并向索引添加新字段。这种默认行为使您可以轻松地对数据进行索引和研究——只要开始索引文档，Elasticsearch就会检测布尔值、浮点值和整数值、日期和字符串，并将它们映射到适当的Elasticsearch数据类型。

同时，也可以**自定义规则**来控制动态映射，并显式定义映射来完全控制字段的存储和索引方式。

定义自己的映射可以实现如下操作:

1. 区分全文字符串字段和精确值字符串字段
2. 执行特定语言的文本分析
3. 优化部分匹配字段
4. 使用自定义日期格式
5. 使用无法自动检测到的数据类型，如geo_point和geo_shape

以不同的方式索引相同的字段可以达到不同的结果，这能满足不同人的目的。比如，你可能希望将字符串字段作为全文搜索的文本字段以及用于排序或聚合数据的关键字字段建立索引。或者，你可以选择使用多个语言分析器来处理包含用户输入的字符串字段的内容。

在查询过程中还会使用应用于全文字段的分析链，当你查询一个全文字段，分析链也会同时在索引工作期间运作。

## 二、信息输出：搜索与分析



## 三、扩展性和弹性